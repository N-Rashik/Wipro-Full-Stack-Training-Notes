<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Visible Apps</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            animation: fadeIn 1.5s ease-in-out;
        }

        .slideshow-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto 40px auto;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            background: #fff;
        }

        .slide {
            display: none;
            padding: 20px;
            text-align: center;
            animation: fade 1s ease-in-out;
        }

        .slide h2 {
            color: #007bff;
            margin-bottom: 10px;
        }

        .slide p {
            color: #555;
            margin-bottom: 5px;
        }

        .slide span {
            font-weight: bold;
        }

        .dots {
            text-align: center;
            margin-top: 10px;
        }

        .dot {
            height: 12px;
            width: 12px;
            margin: 0 5px;
            display: inline-block;
            border-radius: 50%;
            background-color: #bbb;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .dot.active {
            background-color: #007bff;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px);}
            to { opacity: 1; transform: translateY(0);}
        }

        @keyframes fade {
            from {opacity: 0.4} 
            to {opacity: 1}
        }
    </style>
</head>
<body>

<h1>Visible Apps</h1>

<div th:if="${#lists.isEmpty(apps)}">
    <p style="text-align:center; font-size:18px; color:#777;">No apps available</p>
</div>

<div class="slideshow-container" th:if="${!#lists.isEmpty(apps)}">

    <div th:each="app, stat : ${apps}" class="slide">
        <h2 th:text="${app.name}"></h2>
        <p th:text="${app.description}"></p>
        <p><b>Version:</b> <span th:text="${app.version}"></span></p>
        <p><b>Category:</b> <span th:text="${app.category}"></span></p>
        <p><b>Downloads:</b> <span th:text="${app.downloadCount}"></span></p>
    </div>

    <div class="dots">
        <span th:each="app : ${apps}" class="dot"></span>
    </div>
</div>

<script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
        const slides = document.getElementsByClassName("slide");
        const dots = document.getElementsByClassName("dot");
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {slideIndex = 1}
        for (let i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        if(slides[slideIndex-1]) {
            slides[slideIndex-1].style.display = "block";
            dots[slideIndex-1].className += " active";
        }
        setTimeout(showSlides, 4000); 
    }
</script>

</body>
</html>
